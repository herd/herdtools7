<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MonadicOperators (herdtools7.MonadicOperators)</title><link rel="stylesheet" href="../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> – <a href="index.html">herdtools7</a> &#x00BB; MonadicOperators</nav><header class="odoc-preamble"><h1 id="monadic-operators"><a href="#monadic-operators" class="anchor"></a>Monadic operators</h1></header><nav class="odoc-toc"><ul><li><a href="#disclaimer">Disclaimer</a></li><li><a href="#basic-semantics-bricks">Basic Semantics Bricks</a><ul><li><a href="#return">Return</a><ul><li><a href="#normal">Normal</a></li><li><a href="#continue">Continue</a></li><li><a href="#return_2">Return</a></li></ul></li><li><a href="#bind">Bind</a><ul><li><a href="#sequential">Sequential</a></li><li><a href="#data">Data</a></li><li><a href="#control">Control</a></li><li><a href="#choice">Choice</a></li><li><a href="#exception">Exception</a></li><li><a href="#continue_2">Continue</a></li><li><a href="#unroll">Unroll</a></li></ul></li><li><a href="#product">Product</a></li><li><a href="#application">Application</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="disclaimer"><a href="#disclaimer" class="anchor"></a>Disclaimer</h2><p>This material covers both ASLv0 (viz, the existing ASL pseudocode language which appears in the Arm Architecture Reference Manual) and ASLv1, a new, experimental, and as yet unreleased version of ASL.</p><p>This material is work in progress, more precisely at pre-Alpha quality as per Arm’s quality standards. In particular, this means that it would be premature to base any production tool development on this material.</p><p>However, any feedback, question, query and feature request would be most welcome; those can be sent to Arm’s Architecture Formal Team Lead Jade Alglave &lt;jade.alglave@arm.com&gt; or by raising issues or PRs to the herdtools7 github repository.</p><h2 id="basic-semantics-bricks"><a href="#basic-semantics-bricks" class="anchor"></a>Basic Semantics Bricks</h2><p>The basic bricks of the semantics are monadic operators, viz:</p><ol><li>returns <code>return_&lt;continuation&gt;</code>;</li><li>binds <code>bind_&lt;composition&gt;</code>;</li><li>product <code>prod_par</code>;</li><li>application <code>appl_data</code>.</li></ol><h3 id="return"><a href="#return" class="anchor"></a>Return</h3><p>Each return_&lt;continuation&gt; function performs a specific continuation, as follows.</p><h4 id="normal"><a href="#normal" class="anchor"></a>Normal</h4><p><code>return_normal</code> &lt;description, minimal example&gt;</p><h4 id="continue"><a href="#continue" class="anchor"></a>Continue</h4><p><code>return_continue</code> &lt;description, minimal example&gt;</p><h4 id="return_2"><a href="#return_2" class="anchor"></a>Return</h4><p><code>return_return</code> &lt;description, minimal example&gt;</p><h3 id="bind"><a href="#bind" class="anchor"></a>Bind</h3><p>Each bind_&lt;composition&gt; function performs a specific composition, as follows.</p><h4 id="sequential"><a href="#sequential" class="anchor"></a>Sequential</h4><p><code>bind_seq</code>, also written <code>let*|</code>, denotes the program order, as given by <code>;</code> in the ASL code. &lt;minimal example&gt;</p><h4 id="data"><a href="#data" class="anchor"></a>Data</h4><p><code>bind_data</code>, also written <code>let*</code> and <code>&gt;&gt;=</code> hands over the data of its first argument to its second argument. Graphically, it creates an Intrinsic Data Dependency between the Effects generated by it first argument and the Effects generated by its result. &lt;minimal example&gt;</p><h4 id="control"><a href="#control" class="anchor"></a>Control</h4><p><code>bind_ctrl</code> creates an Intrinsic Control Dependency between the Effects generates by its first argument and the Effects generated by its results. &lt;minimal example&gt;</p><h4 id="choice"><a href="#choice" class="anchor"></a>Choice</h4><p><code>bind_choice_m</code> and <code>bind_choice</code> make a choice between different values</p><h4 id="exception"><a href="#exception" class="anchor"></a>Exception</h4><p><code>bind_exception</code> (and its specific instances <code>bind_exception_seq</code> also written <code>let**|</code>, <code>bind_exception_data</code> also written <code>let**</code>, <code>bind_exception_ctrl</code>), creates an Intrinsic Dependency as mandated by its <code>_composition</code> binder, and throws an exception when necessary. &lt;minimal example&gt;</p><h4 id="continue_2"><a href="#continue_2" class="anchor"></a>Continue</h4><p><code>bind_continue m f</code>, also written <code>let*&gt;</code>, executes <code>f</code> on <code>m</code> only if <code>m</code> is <code>Normal (Continuing _)</code> &lt;minimal example&gt;</p><h4 id="unroll"><a href="#unroll" class="anchor"></a>Unroll</h4><p><code>bind_unroll &quot;while&quot; m f</code> executes <code>f</code> on <code>m</code> after having ticked the unrolling stack of <code>m</code> only if <code>m</code> is <code>Normal
(Continuing _)</code> &lt;minimal example&gt;</p><h3 id="product"><a href="#product" class="anchor"></a>Product</h3><p><code>prod_par</code>, also written <code>and*</code>, ensures that evaluation is done in parallel &lt;minimal example&gt;</p><h3 id="application"><a href="#application" class="anchor"></a>Application</h3><p>Application, viz, <code>appl_data</code>, also written <code>&gt;=&gt;</code>, ensures that evaluation follows function application &lt;minimal example&gt;</p></div></body></html>