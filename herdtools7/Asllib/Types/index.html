<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Types (herdtools7.Asllib.Types)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">herdtools7</a> &#x00BB; <a href="../index.html">Asllib</a> &#x00BB; Types</nav><header class="odoc-preamble"><h1>Module <code><span>Asllib.Types</span></code></h1><p>Type Algebra</p></header><nav class="odoc-toc"><ul><li><a href="#predicates-on-types">Predicates on types</a></li><li><a href="#relations-on-types">Relations on types</a><ul><li><a href="#type-transformations">Type transformations</a></li><li><a href="#domains">Domains</a></li><li><a href="#orders-on-types">Orders on types</a></li></ul></li></ul></nav><div class="odoc-content"><p>Types are defined as <a href="../AST/index.html#type-ty"><code>AST.ty</code></a>. This should map pretty-well with the current version of the Language Reference Manual.</p><div class="odoc-spec"><div class="spec type anchored" id="type-env"><a href="#type-env" class="anchor"></a><code><span><span class="keyword">type</span> env</span><span> = <a href="../StaticEnv/index.html#type-env">StaticEnv.env</a></span></code></div></div><h2 id="predicates-on-types"><a href="#predicates-on-types" class="anchor"></a>Predicates on types</h2><div class="odoc-spec"><div class="spec value anchored" id="val-is_builtin"><a href="#val-is_builtin" class="anchor"></a><code><span><span class="keyword">val</span> is_builtin : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_builtin_singular"><a href="#val-is_builtin_singular" class="anchor"></a><code><span><span class="keyword">val</span> is_builtin_singular : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_builtin_aggregate"><a href="#val-is_builtin_aggregate" class="anchor"></a><code><span><span class="keyword">val</span> is_builtin_aggregate : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><p>Note that a builtin type is either builtin aggregate or builtin singular.</p><div class="odoc-spec"><div class="spec value anchored" id="val-is_singular"><a href="#val-is_singular" class="anchor"></a><code><span><span class="keyword">val</span> is_singular : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_aggregate"><a href="#val-is_aggregate" class="anchor"></a><code><span><span class="keyword">val</span> is_aggregate : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><p>Note that a type is either singular or aggregate.</p><div class="odoc-spec"><div class="spec value anchored" id="val-is_named"><a href="#val-is_named" class="anchor"></a><code><span><span class="keyword">val</span> is_named : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Types declared using the <code>type</code> syntax.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_anonymous"><a href="#val-is_anonymous" class="anchor"></a><code><span><span class="keyword">val</span> is_anonymous : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Those not declared using †he <code>type</code> syntax.</p></div></div><p>Note that a type is either builtin, named or anonymous.</p><div class="odoc-spec"><div class="spec value anchored" id="val-is_primitive"><a href="#val-is_primitive" class="anchor"></a><code><span><span class="keyword">val</span> is_primitive : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Types that only use the builtin types.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_non_primitive"><a href="#val-is_non_primitive" class="anchor"></a><code><span><span class="keyword">val</span> is_non_primitive : <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Types that are named types or which make use of named types.</p><p>Usually for all <code>ty</code>:</p><pre class="language-ocaml"><code>is_non_primitive ty = not (is_primitive ty)</code></pre></div></div><h2 id="relations-on-types"><a href="#relations-on-types" class="anchor"></a>Relations on types</h2><h3 id="type-transformations"><a href="#type-transformations" class="anchor"></a>Type transformations</h3><div class="odoc-spec"><div class="spec value anchored" id="val-make_anonymous"><a href="#val-make_anonymous" class="anchor"></a><code><span><span class="keyword">val</span> make_anonymous : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <a href="../AST/index.html#type-ty">AST.ty</a></span></code></div><div class="spec-doc"><p>Replace any named type by its declared type in the environment.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_structure"><a href="#val-get_structure" class="anchor"></a><code><span><span class="keyword">val</span> get_structure : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <a href="../AST/index.html#type-ty">AST.ty</a></span></code></div><div class="spec-doc"><p>The structure of a type is the primitive type that can hold the same values.</p></div></div><h3 id="domains"><a href="#domains" class="anchor"></a>Domains</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Domain"><a href="#module-Domain" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Domain/index.html">Domain</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The domain of a type is the set of values which storagbe element of that type may hold.</p></div></div><h3 id="orders-on-types"><a href="#orders-on-types" class="anchor"></a>Orders on types</h3><div class="odoc-spec"><div class="spec value anchored" id="val-subtype_satisfies"><a href="#val-subtype_satisfies" class="anchor"></a><code><span><span class="keyword">val</span> subtype_satisfies : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Subtype-satisfation as per Definition TRVR.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-domain_subtype_satisfies"><a href="#val-domain_subtype_satisfies" class="anchor"></a><code><span><span class="keyword">val</span> domain_subtype_satisfies : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-structural_subtype_satisfies"><a href="#val-structural_subtype_satisfies" class="anchor"></a><code><span><span class="keyword">val</span> structural_subtype_satisfies : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_satisfies"><a href="#val-type_satisfies" class="anchor"></a><code><span><span class="keyword">val</span> type_satisfies : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Type-satisfation as per Rule FMXK.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_clashes"><a href="#val-type_clashes" class="anchor"></a><code><span><span class="keyword">val</span> type_clashes : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Type-clashing relation.</p><p>Notes:</p><ul><li>T subtype-satisfies S implies T and S type-clash</li><li>This is a equivalence relation</li></ul><p>As par Definition VPZZ.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subprogram_clashes"><a href="#val-subprogram_clashes" class="anchor"></a><code><span><span class="keyword">val</span> subprogram_clashes : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../AST/index.html#type-func">AST.func</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../AST/index.html#type-func">AST.func</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Subprogram clashing relation.</p><p>As per Definition BTBR.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lowest_common_ancestor"><a href="#val-lowest_common_ancestor" class="anchor"></a><code><span><span class="keyword">val</span> lowest_common_ancestor : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> option</span></span></code></div><div class="spec-doc"><p>Lowest common ancestor.</p><p>As per Rule YZHM.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_value"><a href="#val-base_value" class="anchor"></a><code><span><span class="keyword">val</span> base_value : <span><span><span class="type-var">'a</span> <a href="../AST/index.html#type-annotated">AST.annotated</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../AST/index.html#type-ty">AST.ty</a> <span class="arrow">&#45;&gt;</span></span> <a href="../AST/index.html#type-expr">AST.expr</a></span></code></div><div class="spec-doc"><p><code>base_value env ty</code> is a base value of <code>ty</code>.</p></div></div></div></body></html>