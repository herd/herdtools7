AArch64 MP+dsb.stpptehd+popteap
Variant=vmsa,ets2
TTHM=HD
{
 [PTE(y)]=(oa:PA(y), db:0, dbm:1);
 0:X1=x; 0:X3=y;
 1:X0=PTE(y); 1:X1=x;
}
 P0          | P1           ;
 MOV W0,#1   | LDAR X2,[X0] ;
 STR W0,[X1] | LDR W4,[X1]  ;
 DSB ST      |              ;
 MOV W2,#1   |              ;
 STR W2,[X3] |              ;
exists (1:X2=(oa:PA(y), dbm:1) /\ 1:X4=0)
